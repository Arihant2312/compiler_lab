%{
#include <stdio.h>

FILE *yyin, *yyout;
%}

%%
.|\n  { fputc(yytext[0], yyout); }
%%

int main(int argc, char *argv[]) {
    if (argc != 3) {

        fprintf(stderr, "Usage: %s <inputfile> <outputfile>\n", argv[0]);
        return 1;
    }


    yyin = fopen(argv[1], "r");
    if (!yyin) {
        perror("Cannot open input file");
        return 1;
    }


    yyout = fopen(argv[2], "w");
    if (!yyout) {
        perror("Cannot open output file");
        fclose(yyin);
        return 1;
    }

    // Call the Lex scanner to process the input and output the content
    yylex();  // This will read from yyin and write to yyout

    // Close both input and output files
    fclose(yyin);
    fclose(yyout);

    return 0;
}


create input and out put file in input add a text line afeter running -rogram it shpudl apper in pitpiut file 
âœ… Simplest Lex Program (File â†’ File)
ğŸ“„ copy.l
%{
#include <stdio.h>
%}

%%
.|\n   { printf("%c", yytext[0]); }
%%


âœ” Lex only
âœ” No arguments
âœ” No yyin, yyout
âœ” Easy to understand

1ï¸âƒ£ Create Input File
ğŸ“„ input.txt
Lex program is simple.
This content must appear in output.

2ï¸âƒ£ Run the Program
Step 1: Generate C file
lex copy.l

Step 2: Compile
gcc lex.yy.c -o copy

Step 3: Execute (redirect input/output)
copy < input.txt > output.txt

3ï¸âƒ£ Output File
ğŸ“„ output.txt
Lex program is simple.
This content must appear in output.
